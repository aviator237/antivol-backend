
{% extends "auth/base.html" %}
{% load static %}

{% block meta %}
<meta property="og:title" content="{{ title }}" />
<meta name="description" content="Définir un nouveau mot de passe" />
<meta property="og:image" content="{% static 'images/logo_site_vie_reussie.jpeg' %}" />
<meta property="og:image:secure_url" content="{% static 'images/logo_site_vie_reussie.jpeg' %}" />
<meta property="og:image:alt" content="Le logo du site" />
{% endblock meta %}

{% block content %}
<link rel="stylesheet" href="{% static 'auth/new_password.css' %}">

<div class="form-div">
    {% if next %}
    <form class="form" action="{% url 'auth:new_password' uidb64=uid %}?next={{ next }}" method="post">
    {% else %}
    <form class="form" action="{% url 'auth:new_password' uidb64=uid %}" method="post">
    {% endif %}

        {% csrf_token %}
        <div class="header">Nouveau mot de passe</div>

        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="inputs">
            <p class="password-info">Veuillez choisir un nouveau mot de passe sécurisé.</p>
            <input placeholder="Nouveau mot de passe" class="input" type="password" name="password" required>
            <input placeholder="Confirmer le mot de passe" class="input" type="password" name="password1" required>
            <button class="sigin-btn" type="submit">Enregistrer</button>
            <div class="forget-return-div">
                {% if next %}
                <a class="return" href="{% url 'auth:login' %}?next={{ next }}">Page de connexion</a>
                {% else %}
                <a class="return" href="{% url 'auth:login' %}">Page de connexion</a>
                {% endif %}
            </div>
        </div>
    </form>
</div>

{% endblock %}